const Discord = require("discord.js");
const client = new Discord.Client();
client.on('ready', () => {
  client.user.setGame(`on 1 servers | *help | By Itachayyy#2858 .`,'https://www.twitch.tv/v5bz');
  console.log('---------------');
  console.log(' Bot Is Online')
  console.log('---------------')
});
client.on('message', message => {
     if (message.content === ".servers") {
     let embed = new Discord.RichEmbed()
  .setColor("#0000FF")
  .addField("**Server: **" , client.guilds.size)
  message.channel.sendEmbed(embed);
    }

client.on('message', msg => {
  if (msg.content === 'ping') {
    msg.reply('Pong!');
  }
});
if (message.content === '$help') {
              var embed  = new Discord.RichEmbed()
                .addField("broadcast (bc)" ,"**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** ``$broadcast <Ø§Ù„Ø±Ø³Ø§Ù„Ù‡> , $bc <Ø§Ù„Ø±Ø³Ø§Ù„Ù‡>``")
                .addField("**BAN**" ,"**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** ``$ban <Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…>``")
                .addField("**KICK**" ,"**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** ``$kick <Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…> ``")
                .addField("**ÙAVATAR**" ,"**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** ``$avatar``")
                .addField("**INFO**", "**Ø§Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… :** ``$info``")
                .addField("**SAY**" ,"**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** ``$say <Ø§Ù„Ø±Ø³Ø§Ù„Ù‡>``")
                .addField("**ID**" ,"**Ø§Ù„ï¿½ï¿½Ø³ØªØ®Ø¯Ø§Ù…:** ``$id``")
                .addField("**QA**" ,"**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** ``$qa <Ø§Ù„Ø³Ø¤Ø§Ù„>``  ")
                .addField("**CLEAR**" ,"**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** ``$clear <Ø§Ù„Ø¹Ø¯Ø¯>``")
                .addField("**PING**", "**Ø§Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù…:** ``$ping``")
				.addField("**SERVER**", "**Ø§Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù…:** ``$server``")
				.addField("**INVITE**", "**Ø§Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù…:** ``$invite``")
				.addField("**CONTACT**", "**Ø§Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù…:** ``$contact``")

                .setColor('RANDOM')
.setColor('RANDOM')
  message.author.sendEmbed(embed);
    }
});
client.on('message', message => {
  if(message.content === ('clear')) {
  let modRole = message.guild.roles.find("name", "Admin");
  if (!modRole) return message.reply('You do not have Admin Role'); {
    }
  const params = message.content.split(" ").slice(1)
    let messagecount = parseInt(params[0]);
    message.channel.fetchMessages({limit: messagecount})
        .then(messages => message.channel.bulkDelete(messages));
  }
});
client.on('message', message => {
    var args = message.content.split(/[ ]+/)
    if(message.content.includes('discord.gg')){
      if(!message.member.hasPermission('ADMINISTRATOR'))
        message.delete()
    return message.reply(`** No Invite Links :angry: ! **`)
    }
});
client.on('message', msg => {
  if (msg.content === '$invite') {
    msg.reply('link');
  }
});
client.on('message', msg => {
  if (msg.content === '$help') {
    msg.reply(':envelope: | ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ ÙÙŠ Ø§Ù„Ø®Ø§Øµ');
  }
});
client.on("message", message => {
    var prefix = "$";
 
            var args = message.content.substring(prefix.length).split(" ");
            if (message.content.startsWith(prefix + "clear")) {
   if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply('âš  | **Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ§Øª**');
        var msg;
        msg = parseInt();
      
      message.channel.fetchMessages({limit: msg}).then(messages => message.channel.bulkDelete(messages)).catch(console.error);
      message.channel.sendMessage("", {embed: {
        title: "Done | ØªÙ€Ù€Ù…",
        color: 0x06DF00,
        description: "ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¨Ù†Ø¬Ø§Ø­",
        footer: {
          text: "Name Bot."
        }
      }}).then(msg => {msg.delete(3000)});
                          }

     
});
// Your Avatar URL!
client.on('message', message => {
    if (message.content === "$avatar") {
    message.reply(message.author.avatarURL); 
    }
});
client.on("message", message => {
      if (message.content === "$ping") {
      const embed = new Discord.RichEmbed()
  .setColor("RANDOM")
  .addField('**Ping:**' , `${Date.now() - message.createdTimestamp}` + ' ms')
  message.channel.sendEmbed(embed);
    }
});
    client.on('message', message => {
     if (message.content === "$id") {
     let embed = new Discord.RichEmbed()
  .setThumbnail(message.author.avatarURL)  
  .setAuthor(message.author.username)
.setDescription("Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ø­Ù€Ù€Ø³Ø§Ø¨")
               .setFooter(`Name Bot.`, '')
  .setColor("#9B59B6")
  .addField("Ø§Ø³Ù€Ù€Ù€Ù… Ø§Ù„Ø­Ø³Ù€Ù€Ø§Ø¨", `${message.author.username}`)
  .addField('ÙƒÙˆØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ', message.author.discriminator)
  .addField("Ø§Ù„Ø±Ù‚Ù€Ù€Ù€Ù… Ø§Ù„Ø´Ù€Ù€Ù€Ø®ØµÙŠ", message.author.id)
  .addField('Ø¨Ù€Ù€Ù€Ù€ÙˆØª', message.author.bot)
  .addField("ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„", message.author.createdAt)
     
     
  message.channel.sendEmbed(embed);
    }
});
var prefix = "$";
client.on('message', message => {
  if (message.author.bot) return;
  if (!message.content.startsWith(prefix)) return;

  let command = message.content.split(" ")[0];
  command = command.slice(prefix.length);

  let args = message.content.split(" ").slice(1);

  if (command == "say") {
   message.channel.sendMessage(args.join("  "))
  }
});
client.on("guildMemberRemove", member => {
  let guild = member.guild;
  guild.defaultChannel.sendMessage("", {embed: {
  color: 808080,
  author: {
    name: member.user.username,
    icon_url: member.user.avatarURL
  },
  title: guild.name,
  description: ' Bye ..',
}}).catch(console.error);
  }
);
client.on("message", (message) => {
    if (message.content.startsWith("$ban ")) {
      if(!message.member.hasPermission('BAN_MEMBERS')) return message.reply('âš  Ù…Ø§Ø¹Ù†Ø¯Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª');
        var member= message.mentions.members.first();
        member.ban().then((member) => {
            message.channel.send(member.displayName + " Ù„Ù‚Ø¯ ØªÙ… Ø·Ø±Ø¯Ù‡ Ø¨Ù†Ø¬Ø§Ø­ :wave: ");
        }).catch(() => {
            message.channel.send(":x: Ù‡Ù†Ø§Ùƒ Ø®Ø·Ø§Ø¡ Ø­Ø§ÙˆÙ„ Ù…Ø±Ù‡ Ø£Ø®Ø±Ù‰:x: ");
        });
    }
});
client.on('message', message => {
            if(!message.channel.guild) return;
let args = message.content.split(' ').slice(1).join(' ');
if (message.content.startsWith('$bc')){
 if (message.author.id !== '341838403916005378') return message.reply('** Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ù‚ÙØ· Ù„ØµØ§Ø­Ø¨ Ø§Ù„Ø¨ÙˆØª Ùˆ Ø´ÙƒØ±Ø§Ù‹Ù‹ **')
message.channel.sendMessage('Ø¬Ø§Ø± Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© |âœ…')
client.users.forEach(m =>{
m.sendMessage(args)
})
}
});
         client.on('message', message => {
            if (message.content.startsWith("$bot")) {
     let embed = new Discord.RichEmbed()
.setThumbnail(message.author.avatarURL)
.addField(' Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§ØªğŸŒ',`[${client.guilds.size}]  `)
.addField(' Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ğŸ‘¥ ',` [${client.users.size}] `)
.addField('Ø§Ù„Ø±ÙˆÙ…Ø§ØªğŸ“š ',`[${client.channels.size}]`) 
.addField(' Ø§Ù„Ø¨Ù†Ù‚ğŸš€ ',`[${Date.now() - message.createdTimestamp}]`) 
.addField('Ù…ØµÙ…Ù…  + ØµØ§Ø­Ø¨ Ø§Ù„Ø¨ÙˆØª ',`itachhay`)
.setColor('#7d2dbe')
  message.channel.sendEmbed(embed);
    }
});   
client.on('message', function(msg) {
    if(msg.content.startsWith ('$server')) {
      let embed = new Discord.RichEmbed()
      .setColor('RANDOM')
      .setThumbnail(msg.guild.iconURL)
      .setTitle(`Showing Details Of  **${msg.guild.name}*`)
      .addField(':globe_with_meridians:** Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠØ±ÙØ±**',`[** __${msg.guild.region}__ **]`,true)
      .addField(':medal:** __Ø§Ù„Ø±ØªØ¨__**',`[** __${msg.guild.roles.size}__ **]`,true)
      .addField(':red_circle:**__ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡__**',`[** __${msg.guild.memberCount}__ **]`,true)
      .addField(':large_blue_circle:**__ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø§ÙˆÙ†Ù„Ø§ÙŠÙ†__**',`[** __${msg.guild.members.filter(m=>m.presence.status == 'online').size}__ **]`,true)
      .addField(':pencil:**__ Ø§Ù„Ø±ÙˆÙ…Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨ÙŠØ©__**',`[** __${msg.guild.channels.filter(m => m.type === 'text').size}__** ]`,true)
      .addField(':microphone:**__ Ø±ÙˆÙ…Ø§Øª Ø§Ù„ØµÙˆØª__**',`[** __${msg.guild.channels.filter(m => m.type === 'voice').size}__ **]`,true)
      .addField(':crown:**__ Ø§Ù„Ø£ÙˆÙ†Ù€Ø±__**',`**${msg.guild.owner}**`,true)
      .addField(':id:**__ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±__**',`**${msg.guild.id}**`,true)
      .addField(':date:**__ ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙŠ__**',msg.guild.createdAt.toLocaleString())
      msg.channel.send({embed:embed});
    }
  });
  client.on('message', message => {
    if (message.content.startsWith("$invite")) {

    message.guild.fetchInvites()
    .then(invites => message.channel.send(`**:busts_in_silhouette:  Ø§ØªÙŠØª Ø¨     [${invites.find(invite => invite.inviter.id === message.author.id)}]    :calling:   Ø¹Ø¶Ùˆ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø³ÙŠØ±ÙØ±    `))
         
    }
});
client.on('message' , message => {
var prefix = "-"

if (message.author.bot) return;
if (message.content.startsWith("$contact")) {
if (!message.channel.guild) return;



let args = message.content.split(" ").slice(1).join(" ");



client.users.get("341838403916005378").send(
    "\n" + "**" + "â— Ø§Ù„Ø³ÙŠØ±ÙØ± :" + "**" +
    "\n" + "**" + "Â» " + message.guild.name + "**" +
    "\n" + "**" + " â— Ø§Ù„Ù…Ø±Ø³Ù„ : " + "**" +
    "\n" + "**" + "Â» " + message.author.tag + "**" +
    "\n" + "**" + " â— Ø§Ù„Ø±Ø³Ø§Ù„Ø© : " + "**" +
    "\n" + "**" + args + "**")

let embed = new Discord.RichEmbed()
     .setAuthor(message.author.username, message.author.avatarURL)
     .setDescription('ğŸ“¬ ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù‰ ØµØ§Ø­Ø¨ Ø§Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­')
     .setThumbnail(message.author.avatarURL)
     .setFooter("By : Elmusaui_GK and SpeedMC")
                                                

message.channel.send(embed);


}
    
});
client.on('guildMemberAdd', member => {
    const botCount = member.guild.members.filter(m=>m.user.bot).size
    const memberCount = [member.guild.memberCount] - [botCount]
    client.channels.get('475357475412115457').setName(`âŸ«ã€ ${memberCount} Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ ã€âŸª`);
    client.channels.get('475357554726404116').setName(`âŸ«ã€ ${botCount} Ø¹Ø¯Ø¯ Ø§Ù„Ø¨ÙˆØªØ§Øª ã€âŸª`);
});

client.on('guildMemberRemove', member => {
    const botCount = member.guild.members.filter(m=>m.user.bot).size
    const memberCount = [member.guild.memberCount] - [botCount]
    client.channels.get('475357475412115457').setName(`âŸ«ã€ ${memberCount} Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ ã€âŸª`);
    client.channels.get('475357554726404116').setName(`âŸ«ã€ ${botCount} Ø¹Ø¯Ø¯ Ø§Ù„Ø¨ÙˆØªØ§Øª ã€âŸª`);
});
 client.login("process.env.BOT_TOKEN");
